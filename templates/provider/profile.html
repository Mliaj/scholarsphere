{% extends "base.html" %}

{% block title %}Organization Profile - Scholarsphere | Provider{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
<style>
  .dashboard-container { display:flex; min-height:100vh; }
  .sidebar { width:280px; background: linear-gradient(135deg, #003366 0%, #0072ce 100%); color:#fff; padding:2rem 0; position:fixed; height:100vh; overflow-y:auto; }
  .sidebar-header { text-align:center; padding:0 2rem 2rem 2rem; border-bottom:1px solid rgba(255,255,255,0.1); }
  .sidebar-logo { width:60px; height:60px; background:#fff; border-radius:50%; margin:0 auto 1rem; display:flex; align-items:center; justify-content:center; overflow:hidden; }
  .sidebar-logo img { width:50px; height:50px; object-fit:cover; border-radius:50%; }
  .sidebar-brand { font-size:1.2rem; font-weight:700; margin-bottom:.5rem; }
  .sidebar-subtitle { font-size:.9rem; opacity:.8; }
  .sidebar-nav { padding:2rem 0; }
  .nav-item { padding:1rem 2rem; cursor:pointer; transition:background .3s; border-left:3px solid transparent; }
  .nav-item:hover, .nav-item.active { background:rgba(255,255,255,0.1); border-left-color:#ffc72c; }
  .nav-item i { margin-right:1rem; width:20px; }

  .main-content { flex:1; margin-left:280px; padding:2rem; }
  .top-bar { display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem; padding:1rem 0; }
  .welcome-text h1 { font-size:2rem; color:#003366; margin-bottom:.5rem; }
  .welcome-text p { color:#666; }
  
  /* Alignment improvements */
  .profile-card { background:#fff; border-radius:15px; box-shadow:0 4px 20px rgba(0,0,0,0.08); padding:1.5rem; max-width: 960px; margin: 0 auto; }
  .profile-header { display:flex; justify-content:space-between; align-items:center; border-bottom:2px solid #e9ecef; padding-bottom:1rem; margin-bottom:1.5rem; gap:1rem; }
  .profile-header > div:first-child { min-width: 0; }
  .profile-header h2 { margin:0; color:#003366; font-weight:700; }
  .status-badge { padding:.35rem .75rem; border-radius:20px; font-weight:700; font-size:.85rem; white-space:nowrap; }
  .status-active { background:#d4edda; color:#155724; }
  .status-inactive { background:#f8d7da; color:#721c24; }
  .info-grid { display:grid; grid-template-columns: repeat(2, minmax(280px, 1fr)); gap:1rem; align-items:start; }
  .info-item { background:#f8f9fa; border:1px solid #e9ecef; border-radius:10px; padding:1rem; }
  .info-item label { display:block; font-weight:600; color:#333; margin-bottom:.35rem; }
  .info-item div { word-break: break-word; }
  
  @media (max-width:1024px){ .sidebar{width:250px;} .main-content{margin-left:250px;} }
  @media (max-width:768px){ .sidebar{transform:translateX(-100%);} .main-content{margin-left:0;} .info-grid{grid-template-columns:1fr;} }
</style>
{% endblock %}

{% block content %}
<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-logo">
        <img src="{{ url_for('static', filename='images/uc-logo.png') }}" alt="UC Logo">
      </div>
      <div class="sidebar-brand">Scholarsphere</div>
      <div class="sidebar-subtitle">Provider Portal</div>
    </div>
    <nav class="sidebar-nav">
      <div class="nav-item" onclick="window.location.href='{{ url_for('provider.dashboard') }}'"><i class="fas fa-home"></i> Dashboard</div>
      <div class="nav-item" onclick="window.location.href='{{ url_for('provider.scholarships') }}'"><i class="fas fa-graduation-cap"></i> Manage Scholarships</div>
      <div class="nav-item" onclick="window.location.href='{{ url_for('provider.applications') }}'"><i class="fas fa-clipboard-list"></i> Applications</div>
      <div class="nav-item" onclick="window.location.href='{{ url_for('provider.schedules') }}'"><i class="fas fa-calendar-alt"></i> Schedules</div>
      <div class="nav-item" onclick="window.location.href='{{ url_for('provider.documents') }}'"><i class="fas fa-file-alt"></i> Documents</div>
      <div class="nav-item active"><i class="fas fa-building"></i> Organization Profile</div>
      <div class="nav-item" onclick="window.location.href='{{ url_for('logout') }}'"><i class="fas fa-sign-out-alt"></i> Logout</div>
    </nav>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div class="top-bar">
      <div class="welcome-text">
        <h1>Organization Profile</h1>
        <p>Manage your provider information</p>
      </div>
    </div>

    <div class="profile-card">
      <div class="profile-header">
        <div>
          <h2 style="margin:0; color:#003366;">{{ profile.organization }}</h2>
          <div style="color:#666; margin-top:.25rem;">Provider: {{ profile.first_name }} {{ profile.last_name }}</div>
        </div>
        <div style="display:flex; gap:0.5rem; align-items:center;">
          <span class="status-badge {{ 'status-active' if profile.is_active else 'status-inactive' }}">
            {{ 'Active' if profile.is_active else 'Inactive' }}
          </span>
        </div>
      </div>

      <div class="info-grid">
        <div class="info-item">
          <label>Organization</label>
          <div>{{ profile.organization }}</div>
        </div>
        <div class="info-item">
          <label>Email</label>
          <div>{{ profile.email }}</div>
        </div>
        <div class="info-item">
          <label>Provider ID</label>
          <div>{{ profile.id }}</div>
        </div>
        <div class="info-item">
          <label>Registered</label>
          <div>{{ profile.created_at | safe_strftime('%b %d, %Y') }}</div>
        </div>
        <div class="info-item">
          <label>Submitted Documents</label>
          <div>{{ profile.documents_submitted }}</div>
        </div>
        <div class="info-item">
          <label>Status</label>
          <div>{{ 'Active' if profile.is_active else 'Inactive' }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
